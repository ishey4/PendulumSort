<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>PendulumSort</title>
    <meta name="description" content="PendulumSort">
    <meta name="author" content="SitePoint">
    <link rel="stylesheet" href="styles.css">
    <script src="pendulum.js" type="text/javascript"></script>
    <script src="separateNumbers.js" type="text/javascript"></script>
</head>

<body>
    <h1>This page is a demo of the Pendulum Sort</h1>
    <h1>The code, (along with its comments) can be seen <a href="pendulum.js" target="_blank">here</a>.</h1>
    <h4>
        <span>Input (separated by commas):</span> <input id="textArea"></input>
    </h4>
    <form id="options">
    <h4>
        <span>Pendulum Starts From:</span>
        <span class="options">
            <label><input checked type="radio" value="center" name="startFrom"> Center</label>
            <label><input type="radio" value="end" name="startFrom"> End</label>
        </span>
    </h4>
    <h4>
        <span>Swing:</span>
        <span class="options">
        <label><input checked type="radio" value="right" name="swingDirection">Right</label>
        <label><input type="radio" value="left" name="swingDirection">Left</label></span>
    </h4>
    <h4>
        <span>Sort:</span>
        <span class="options">
        <label><input checked type="radio" name="sortDirection" value="asc">Ascending</label>
        <label><input type="radio" name="sortDirection" value="desc">Descending</label></span>
    </h4>
    </form>
    <h4>
        <span>Output:</span> <span id="sortedValues"></span>
    </h4>
    <script>
        const getFromValuesFn = (obj, field) => { 
            if (field.checked) obj[field.name] = field.value;
            return obj;
        };

        const input = document.getElementById('textArea');
        const outputDiv = document.getElementById('sortedValues')
        const eventsToListenFor = ['keyup', 'change']
        const form = document.getElementById('options');
        const inputText = document.getElementById("textArea")    

        eventsToListenFor.forEach((event) => {
            document.addEventListener(event, (e) => {
                const options = Object.values(form).reduce(getFromValuesFn, {})
                const inputArray = separateNumbers(inputText.value);

                const outputArray = pendulum(inputArray, options);
                outputDiv.innerHTML = outputArray.join(", ")
            })
        });

    </script>
</body>

</html>
